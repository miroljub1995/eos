<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Simple file reader</title>
</head>

<body>
    <div id="main"></div>

    <script>
        var fs = undefined;
        try {
            fs = require('fs-extra');
        }
        catch (error) {
            let newDiv = document.createElement('div');
            newDiv.innerHTML = 'fs-extra NOT loaded successfully, try installing packages';
            document.body.insertBefore(newDiv, document.getElementById('main'));
            throw error;
        }

        let newDiv = document.createElement('div');
        newDiv.innerHTML = 'fs-extra loaded successfully';
        document.body.insertBefore(newDiv, document.getElementById('main'));

        const div = document.getElementById('main');

        const packageJSON = fs.readJsonSync('./package.json', { throws: false });


        div.appendChild((_ => {
            const newDiv = document.createElement('div');
            newDiv.innerHTML = packageJSON.name;
            return newDiv;
        })());
        div.appendChild((_ => {
            const newDiv = document.createElement('div');
            newDiv.innerHTML = packageJSON.version;
            return newDiv;
        })());
    </script>
</body>

</html>